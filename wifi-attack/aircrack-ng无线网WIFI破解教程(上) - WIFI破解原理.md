一直准备找个时间来写个wifi破解教程，因为很多人都想学wifi破解，但是网上的教程都太乱，而且弄来弄错容易错，那是对于wifi破解的原理没有充分的认识，这次准备纯码字给大家通俗的讲解wifi破解，破解工具以aircrack-ng为例，这是一个很强大且具有代表性的工具，网上很多其他的破解工具都是基于aircrack-ng的。

### 名词解释

无线AP：发射无线网的设备，一般是无线路由器

客户端：链接无线网的设备。

握手包：请看下面文章

### WIFI万能钥匙

wifi万能钥匙可以一句话概括一下：用户装了wifi万能钥匙一般会默认分享自己连的wifi密码，当你看到手机wifi万能钥匙里有可破解的wifi的时候，那都是被别人分享过的，“破解”其实就是用别人分享的密码连上了。

### 一般wifi破解原理

破解wifi，首先需要利用一些wifi破解软件，如aircrack-ng进行抓包，我们抓到的包成为握手包，握手包里面包含了加密后的wifi认证信息（包含密码），根据不同的加密方式，破解方式与难度也有所不同。

### wifi加密方式的区别

一般wifi加密方式分为两种wep与wpa/wpa2，详细加密算法有兴趣的可以百度一下。

wep加密方式比较简单，如aircrack-ng可直接读取到密码，这种加密方式已经逐渐淘汰，而且如今常见的路由器加密已经基本上都是wpa/wpa2加密，如图[![aircrack-ngwifi破解](http://www.vuln.cn/wp-content/uploads/2016/02/wifi.jpg)](http://www.vuln.cn/wp-content/uploads/2016/02/wifi.jpg)

 

wpa/wpa2的加密方式相对复杂，所以我们从抓到的包里得到的密钥是经过更加复杂的加密，没有wep那么简单，针对wpa/wpa2加密后的密钥只能通过暴力破解，比如，我们一般用的windows上的破解软件是EWSA，全称Elcomsoft Wireless Security Auditor。爆破一般都是基于字典的爆破，比如网上有很多wpa的字典下载，集合了很多弱口令或者人们常用的密码，下篇我会把字典发上来分享。

握手包爆破工具有很多，但原理是一样的，关键在于你的字典够不够强大，aircrack也是可以爆破的，我一般就直接用aircrack，简单方便。

**wpa/wpa2破解局限性：由于这种加密是需要基于字典爆破的，所以破解难度是与密码复杂程度成正比的，由此可见一个复杂的密码的安全性是多么重要。**

### 什么是握手包？

上面说了破解无线网需要先进行抓包，抓到的包被成为握手包，引用百科介绍：

> 1、当一个无线客户端与一个无线AP连接时，先发出连接认证请求（握手申请：你好！）
> 2、无线AP收到请求以后，将一段随机信息发送给无线客户端（你是？）
> 3、无线客户端将接收到的这段**随机信息进行加密之后**再发送给无线AP （这是我的名片）
> 4、无线AP检查加密的结果是否正确，如果正确则同意连接 （哦～ 原来是自己人呀！）
> 通常我们说的抓“握手包”，是指在无线AP与它的一个合法客户端在进行认证时，捕获“信息原文”和加密后的“密文”。

握手包的一般格式为.cap格式

其实握手包我也也可以用wireshark打开看一下：

[![aircrack-ngwifi破解](http://www.vuln.cn/wp-content/uploads/2016/02/wifi1.jpg)](http://www.vuln.cn/wp-content/uploads/2016/02/wifi1.jpg)

 

如上图，我们看到的是wifi连接最底层的信息，可以看到加密后的认证信息，由于是wpa加密，所以需要使用字典暴力破解。

### 如何抓到握手包？

这种抓包破解的方法的前提是需要有客户端连接的，比如你家隔壁有个网，但是他家没有任何一个设备连着这个无线网，抓包的时候也没人会去连，这种情况是无法抓包的，但是情况比较少。

之所以需要有客户端连接，是因为抓包的过程中会监测新设备连接这个网，有新设备连接就会有认证过程，就会有握手包，wifi破解工具比如aircrack-ng会有附加的功能：强制已连接的客户端与AP断开，这样客户端就会自动重新连接，也就能抓到包了。

PS：如果你输入一个错误密码也是能抓到包的，不过这个包的认证是没有成功的。